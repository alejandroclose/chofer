<div id="logout">
  <a href="/auth/login">{{currentUser.name}} Log Out</a>
</div>
<h1>{{title}}</h1>
<p>Welcome to {{title}}</p>
<div id='navigator'>
  <div id="directions">
    <form>
      <label for="origin">Origen</label>
      <span>
        <img src='../public/images/current-location.png' />
      </span>
      <br>
      <input type="text" name="origin" id="origin" value="Tu ubicación actual">
      <br>
      <br>
      <label for="destination">Destino</label>
      <span>
        <img src='public/images/current-location.png' />
      </span>
      <div id='geocoder' class='geocoder'></div>
    </form>
  </div>
  <div id='map'></div>

  
  <div id='full-route' class='d-none'>

    {{!-- Route distance and time --}}
    <div class='route-info'>
      <div class='distance'>
        <p>Distancia</p>
        <div id='distance'>
          <p>-</p>
        </div>
        km
      </div>
      <br>
      <br>
      <div class='time'>
        <p>Tiempo</p>
        <div id="time">
          <p>-</p>
        </div>
        min
      </div>
    </div>

    {{!-- Route cost on services --}}

    <div id="select-service">
      <div id="taxi-service" name="taxi" class="services d-inline-block bg-warning" data-toggle="modal" data-target="#modal">
        <h3> Taxi</h3>
        <p id='taxi-route'>-</p>
      </div>
      <div id="uber-service" name="uber" class="services d-inline-block bg-warning" data-toggle="modal" data-target="#modal">
        <h3> Uber</h3>
        <p id='uber-route'>-</p>
      </div>
      <div id="cabify-service" name="cabify" class="services d-inline-block bg-warning" data-toggle="modal" data-target="#modal">
        <h3>Cabify</h3>
        <p id='cabify-route'>-</p>
      </div>
    </div>

    {{!-- Directions step by step --}}

    <br>
    <h5>¿Cómo llegar?</h5>
    <div id='instructions'></div>
  </div>
</div>

{{!-- Modal --}}
<div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Modal title</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <h3 class="modal-price"></h3>
          <div class="modal-origin"></div>
          <div class="modal-destination"></div>
        <br>
          <h5>Detalles</h5>
          <div class="modal-time"></div>
          <div class="modal-distance"></div>
          <br>
          <h5>Tarifas</h5>
          <div class="bajada-bandera"></div>
          <div class="modal-minute-cost"></div>
          <div class="modal-km-cost"></div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        
        {{!-- Save trip to db --}}
        <form action='/trips' method="POST">
          <input type="text" name='price' class="modal-price" hidden>
          <input type="text" name='origin' class="modal-origin" hidden>
          <input type="text" name='destination' class="modal-destination" hidden>
          <input type="text" name='service' class="modal-title" hidden>

          <button class="btn btn-primary" type="submit">Save changes</button>
      </form>
        </div>
    </div>
  </div>
</div>

<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script src='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v2.3.0/mapbox-gl-geocoder.min.js'></script>